<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>安卓开发之基本构件 - 恍惚</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">






    <meta name="description" content="1、Activity　　一个Activity，通常是用户在某一个时刻，在设备上看到的单独的界面。一个应用程序通常含有多个Activity，用户可在期间进行切换。对用户而言，这就是程序的外观部分。">
<meta name="keywords" content="Android">
<meta property="og:type" content="article">
<meta property="og:title" content="安卓开发之基本构件">
<meta property="og:url" content="http://yoursite.com/2015/10/31/安卓开发/安卓开发之基本构件/index.html">
<meta property="og:site_name" content="恍惚">
<meta property="og:description" content="1、Activity　　一个Activity，通常是用户在某一个时刻，在设备上看到的单独的界面。一个应用程序通常含有多个Activity，用户可在期间进行切换。对用户而言，这就是程序的外观部分。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-01-02T13:35:38.476Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="安卓开发之基本构件">
<meta name="twitter:description" content="1、Activity　　一个Activity，通常是用户在某一个时刻，在设备上看到的单独的界面。一个应用程序通常含有多个Activity，用户可在期间进行切换。对用户而言，这就是程序的外观部分。">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">

<link rel="stylesheet" href="/css/style.css">

<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    

    


</head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                <img src="/images/logo.png" alt="" height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item " href="/archives">Archives</a>
            
            <a class="navbar-item " href="/categories/LifeStyle">Lifestyle</a>
            
            <a class="navbar-item " href="/categories/Music">Music</a>
            
            <a class="navbar-item " href="/categories/Technology">Technology</a>
            
            <a class="navbar-item " href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Buscar" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope="" itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            安卓开发之基本构件
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2015-10-31T04:02:32.000Z" itemprop="datePublished">10月 31 2015</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            16 分钟 de lectura (Alrededor de 2429 palabras)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <h2 id="1、Activity"><a href="#1、Activity" class="headerlink" title="1、Activity"></a>1、Activity</h2><p>　　一个Activity，通常是用户在某一个时刻，在设备上看到的单独的界面。一个应用程序通常含有多个Activity，用户可在期间进行切换。对用户而言，这就是程序的外观部分。</p>
<a id="more"></a>
<p>　　Activity的生命周期：启动一个Activity可能会消耗大量资源。他可能会涉及到新建一个Linux进程、为UI对象申请内存空间、从UML布局填充所有对象，以及创建整个界面。为了避免这种浪费，Android通过ActivityManager来管理活动的生命周期。</p>
<p>　　ActivityManager负责创建、销毁、管理Activity。</p>
<p>　　在Android编程与在其他环境中编程有些区别。在Android中你会发现更多的是对应用程序的状态改变做出响应，而很少主动改变它的状态。Android是一个被外部控制和管理起来的环境，与在Javaapplet和servleet中编程有些相似。因此谈及Activity的生命周期我们很少会说他的当前状态，更多的是说状态转换过程。</p>
<p>　 <strong>（1）启动状态：onCreate()、onStart()、onResume()</strong></p>
<p>　　当一个活动（Activity）还不存在与内存中时，我们称其为启动（Starting）状态。当它启动时，活动会调用一整系列由开发人员有机会指定的回调函数。最后活动（Activity）hi进入运行状态（running）。</p>
<p>　　注意，从启动状态到运行状态的转换时最耗时的操作之一。耗时就是耗电，对电池的续航能力也有直接的影响。因此不再显示的活动不会被轻易的销毁，而是使它驻留在内存中，这样用户下次访问的时候可以节省资源。</p>
<p>　　<strong>（2）运行状态</strong></p>
<p>　　处于运行状态的活动，是指当前显示在屏幕上与用户交互的活动。我们也称该活动获得了焦点（in foucs），意味着所有用户交互——例如打字，触摸屏幕，单击按钮——都由这个活动处理。由此可知同一时刻只能有一个活动处于运行状态。</p>
<p>　　正在运行的活动可以优先获取它所需内存或资源，以便尽量以最快的速度运行。</p>
<p>　　<strong>（3）暂停状态</strong></p>
<p>　　当活动没有获得焦点（例如没有与用户交互），但仍显示在屏幕上时，它就处于暂停状态（paused）。</p>
<p>　　活动会在停止前进入暂停状态。暂停状态的活动依然拥有获取内存或者其他资源的优先权。因为他们依然显示在屏幕上，应该尽量避免使用户感到不自然。</p>
<p>　　<strong>（4）停止状态</strong></p>
<p>　　当一个活动不再显示却依然驻留在内存中的时候，我们称其为停止状态（stopped）。停止状态的活动可以再次显示，成为一个运行状态，也有可能被销毁并从内存中移除。</p>
<p>　　系统会将处于停滞状态的活动保留一段时间，因为用户很可能稍后希望在返回到这些活动，并且重新启动一个停止的活动远比初始化一个新的活动代价要小。</p>
<p>　　停止状态的活动可能随时被从内存中移除。</p>
<p>　　<strong>（5）销毁状态</strong></p>
<p>　　销毁（destroyed）状态不在驻留在内存中。当活动管理器认为不在需要某个活动的时候机会移除它。在活动被销毁之前，他可以做一些特定的操作，比如保存信息。但是Android并不保证你的活动在销毁前会先被停止，暂停的活动也一样可能内销毁。因此，最好在切换回暂停状态时执行重要的工作。</p>
<p>　　实际上，运行中的状态并不意味着他正在进行频繁的运算，他可能只是在那里等待用户的输入。相似的处于停止状态的活动也不一定什么都不做。状态名称主要是指活动对于用户输入的响应程度，换句话说即一个活动是否课件，获得焦点，或者根本不可见。</p>
<h2 id="2、Intent"><a href="#2、Intent" class="headerlink" title="2、Intent"></a>2、Intent</h2><p>　　Intent是指在主要构件之间传递的消息。它能够触发并启动一个消息，告诉一个服务启动还是停止，或者只是简单地广播。Intent是异步的，这意味着发动它们的代码不必等待它们完成并返回。</p>
<p>　　Intent分为显式的（expicit）和隐式的（implicit）两种。在显式的Intent中，发送者需要明确的指定接收Intent的组件。在隐式的Intent中，发送者只需指定接收者的类型。</p>
<h2 id="3、服务（Service）"><a href="#3、服务（Service）" class="headerlink" title="3、服务（Service）"></a>3、服务（Service）</h2><p>　　服务运行于后台，没有任何用户界面。它们可以喝活动一样执行相同的操作，但是没有任何用户界面。服务用于不管界面上有什么，我们都希望可以执行一段时间的操作。例如：你可能希望在其它应用程序之间切换时，音乐播放器依然可以播放歌曲。</p>
<p>　　服务的生命周期比活动要简单地多。你可以启动或停止一个服务，同样的服务的生命周期或多或少的由开发人员控制，受系统控制相对较少。</p>
<p>　　虽然服务运行于后台，但这并不是说它在另一个独立的线程上运行。而如果一个服务正在执行一段耗时的操作，你通常需要将它放在单独的线程上处理，否则将影响你的用户界面的响应速度。简单地说，服务和活动运行在同一个主应用程序线程中，这个线程也被称为UI线程。</p>
<p>　　注意：不要将Android的服务（这些都是Android英语程序的一部分）和Linux的原生服务、服务器进程或者守护进程相混淆（它们都是操作系统更底层的组件）。</p>
<h2 id="4、内容提供器（ContentProvider）"><a href="#4、内容提供器（ContentProvider）" class="headerlink" title="4、内容提供器（ContentProvider）"></a>4、内容提供器（ContentProvider）</h2><p>　　内容提供器是应用程序之间共享数据的接口。Android默认每个应用程序都运行在自己的沙盒中，这样该应用程序的所有数据与系统中其它程序的数据就完全隔离了。虽然少量的数据可以通过Intent在不同的应用程序之间传递，内容提供器则用于大数据集之间的共享持久数据。为此内容提供器提供了一一套很好的复合DRUD（Creat、Read、Update、Delete）原则。</p>
<p>　　内容提供器的接口相对比较简单，就是标准的insert()、update()、delete()、qurey()方法。这些方法看上去很像标准的数据库方法，因此为数据库实现一个内容提供器作为代理业相对简单。我们应该尽可能的使用内容提供器而不是自己去实现。</p>
<h2 id="5、广播接收器（BroadcastReceiver）"><a href="#5、广播接收器（BroadcastReceiver）" class="headerlink" title="5、广播接收器（BroadcastReceiver）"></a>5、广播接收器（BroadcastReceiver）</h2><p>　　广播接收器是Android在系统级别对“发布——订阅”机制，或者说观察者模式（Observer）的实现。接收器一般只是等待，直到其订阅的事件发生时，才被激活。</p>
<p>　　系统自身时时都在进行着广播。例如收到一条短信，接一个电话等的呢。所有这些事件都被广播，而且它们可以出发任意数量的接收器。</p>
<p>　　可以向应用程序的不同部分发送广播，或者其他完全不同的应用程序发送广播。</p>
<p>　　广播本身没有任何可视化的展现，也不会在内存中主动进行。但是一旦被触发，它们可能执行某些代码，例如启动一个活动，服务或其他。</p>
<h2 id="6、应用程序上下文（ApplicationContext）"><a href="#6、应用程序上下文（ApplicationContext）" class="headerlink" title="6、应用程序上下文（ApplicationContext）"></a>6、应用程序上下文（ApplicationContext）</h2><p>　　应用程序上下文是应用程序环境及其所有组件运行所在的进程。它允许应用程序在不同的构件中共享数据和资源。</p>
<p>　　不管应用程序中首先启动的是活动、服务还是其它构件，都会先创建应用陈新股上下文。只要你的应用程序没有消亡，应用程序上下文也会一直存活。正因为如此，应用程序上下文与生命周期无关。你可以通过Context.getApplicationContext()或Activity.GetApplication()来获得对上下文的引用。</p>
<p>　　注意，Activity和service都是上下文的子类，因此他们也就继承了上下文的所有方法。</p>

    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/Android/">#Android</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/2015/12/18/2015读书总结/"> 2015读书总结</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/2015/06/04/Unity3D/Unity3D中的Path对应各平台中的路径/">Unity3D中的Path对应各平台中的路径</a>
            
        </span>
    </div>
    
</article>




    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2019 天之地子&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" href="https://github.com/ppoffice/hexo-theme-minos">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("zh-CN");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {matchFontHeight: false},
        SVG: {matchFontHeight: false},
        CommonHTML: {matchFontHeight: false}
    });
</script>

    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
      })
    </script>

    
    

    


<script src="/js/script.js"></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Escribe algo...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Páginas',
                CATEGORIES: 'Categorías',
                TAGS: 'Tags',
                UNTITLED: '(Sin título)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js"></script>
    
</body>
</html>